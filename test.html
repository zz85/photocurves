<html>
	<body>
		<script src="src/curve_editor.js"></script>
		<script>
			const editor = new CanvasElement(
				380, 380,
				new Editor(380, 380)
			);
			const dom = editor.canvas;
			document.body.appendChild(dom);

			const mapper = new CanvasElement(300, 300,
				new MapElement(300, 300));
			
			/**
				Events
					POINTS_MOVING: from Box
					POINTS_STOPPED: from Box
					POINTS_UPDATED(points): from Grid, redraw
					REDRAW - trigger rerender (not used)
			*/
			register({
				notify(type, points) {
					// console.log(`Received event [${type}]`, points)
					if (type !== 'POINTS_UPDATED') return
					editor._draw()
					mapper._draw()
				}
			})
			document.body.appendChild(mapper.canvas);
		</script>
	</body>
</html>